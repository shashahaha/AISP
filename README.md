<div align="center">

  <!-- æ ‡é¢˜ -->
  # AISP

  <!-- å‰¯æ ‡é¢˜ -->
  ### **AIåŒ»å­¦æ ‡å‡†åŒ–ç—…äººç³»ç»Ÿ**

  <!-- å¾½ç«  -->
  [![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)
  [![FastAPI](https://img.shields.io/badge/FastAPI-0.109-green.svg)](https://fastapi.tiangolo.com)
  [![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-blue.svg)](https://www.postgresql.org/)
  [![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

  <!-- ç®€ä»‹ -->
  åŸºäºæ™ºè°±AI GLM-4.7 çš„åŒ»å­¦æ•™è‚²å¯¹è¯ç³»ç»Ÿï¼Œæä¾›è™šæ‹Ÿæ‚£è€…é—®è¯Šè®­ç»ƒå’Œæ™ºèƒ½è¯„åˆ†åŠŸèƒ½

  [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) Â· [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) Â· [APIæ–‡æ¡£](#-apiæ¥å£) Â· [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)

</div>

---

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– AIå¯¹è¯å¼•æ“
- **æ‚£è€…è§’è‰²æ‰®æ¼”** - æ”¯æŒå¹´é¾„ã€æ€§æ ¼ã€ç—‡çŠ¶çš„ä¸ªæ€§åŒ–è®¾å®š
- **æƒ…ç»ªæ¨¡æ‹Ÿ** - ç„¦è™‘ã€ç–¼ç—›ç­‰çº§ç­‰çœŸå®æƒ…æ„Ÿè¡¨è¾¾
- **å¯¹è¯ç®¡ç†** - è‡ªåŠ¨å¼€åœºç™½ç”Ÿæˆä¸å¤šè½®å¯¹è¯å†å²è¿½è¸ª
- **æç¤ºè¯å·¥ç¨‹** - åŸºäº LangChain çš„ä¸‰å±‚æç¤ºè¯ç®¡ç†

### ğŸ“Š æ™ºèƒ½è¯„åˆ†ç³»ç»Ÿ

| ç»´åº¦ | æƒé‡ | è¯„åˆ†é¡¹ |
|:---:|:---:|:------|
| **é—®è¯Š** | 40% | å…³é”®é—®é¢˜è¦†ç›– Â· ç—‡çŠ¶è¯¦ç»†è¯¢é—® Â· é—®è¯Šé€»è¾‘æ€§ Â· åŒ»å­¦ç¤¼ä»ª |
| **è¯Šæ–­** | 35% | è¯Šæ–­å‡†ç¡®æ€§ Â· é‰´åˆ«è¯Šæ–­ Â· è¯Šæ–­æ¨ç†èƒ½åŠ› |
| **æ²Ÿé€š** | 25% | å¯¹è¯è½®æ¬¡ Â· ç¤¼è²Œè¡¨è¾¾ Â· å…±æƒ…èƒ½åŠ› |

### ğŸ’¾ æ•°æ®æŒä¹…åŒ–
- **14å¼ æ•°æ®åº“è¡¨** - è¦†ç›–ç”¨æˆ·ã€ä¼šè¯ã€ç—…ä¾‹ã€è¯„åˆ†ã€å­¦ä¹ ç®¡ç†
- **å®Œæ•´è¯„åˆ†è®°å½•** - è¯¦ç»†çš„è¯„åˆ†ç»´åº¦ä¸æ”¹è¿›å»ºè®®
- **çŸ¥è¯†ç‚¹è¿½è¸ª** - å­¦ç”ŸçŸ¥è¯†ç‚¹æŒæ¡åº¦åˆ†æä¸å­¦ä¹ è·¯å¾„è§„åˆ’

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
```bash
Python 3.10+
PostgreSQL 15+
```

### å®‰è£…éƒ¨ç½²

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/shashahaha/AISP.git
cd AISP

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ ZHIPU_API_KEY å’Œ DATABASE_URL

# åˆå§‹åŒ–æ•°æ®åº“
python scripts/init_db.py

# å¯åŠ¨æœåŠ¡
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

è®¿é—® http://localhost:8000/docs æŸ¥çœ‹ API æ–‡æ¡£

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å±‚ (å¾…å¼€å‘)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ REST/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     APIå±‚ (FastAPI)                          â”‚
â”‚   /api/chat/*  /api/scoring/*  /api/learning/*              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æœåŠ¡å±‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ChatEngine   â”‚  â”‚ScoringEngine â”‚  â”‚LearningServiceâ”‚     â”‚
â”‚  â”‚ å¯¹è¯ç”Ÿæˆ     â”‚  â”‚ è¯„åˆ†è®¡ç®—     â”‚  â”‚ å­¦ä¹ è¿½è¸ª     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PostgreSQL æ•°æ®åº“                            â”‚
â”‚  14å¼ è¡¨: users / cases / sessions / scoring / learning      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 æ™ºè°±AI GLM-4.7 LLMæœåŠ¡                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ APIæ¥å£

### å¯¹è¯API

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|:---:|------|
| `/api/chat/start` | POST | å¼€å§‹é—®è¯Šä¼šè¯ |
| `/api/chat/message` | POST | å‘é€é—®è¯Šæ¶ˆæ¯ |
| `/api/chat/end` | POST | ç»“æŸä¼šè¯å¹¶è·å–è¯„åˆ† |
| `/api/chat/session/{id}` | GET | è·å–ä¼šè¯è¯¦æƒ… |
| `/api/chat/sessions` | GET | è·å–ä¼šè¯åˆ—è¡¨ |

### è¯·æ±‚ç¤ºä¾‹

```python
import requests

# å¼€å§‹ä¼šè¯
response = requests.post('http://localhost:8000/api/chat/start',
                        json={'case_id': 'case_001'})
session_id = response.json()['session_id']

# å‘é€æ¶ˆæ¯
response = requests.post('http://localhost:8000/api/chat/message',
                        json={'session_id': session_id, 'message': 'æ‚¨å¥½'})

# ç»“æŸä¼šè¯å¹¶è¯„åˆ†
response = requests.post('http://localhost:8000/api/chat/end',
                        json={'session_id': session_id, 'diagnosis': 'æ€¥æ€§å¿ƒè‚Œæ¢—æ­»'})
scores = response.json()['scores']
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
AIMed/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                    # API è·¯ç”±å±‚
â”‚   â”‚   â””â”€â”€ chat.py             # å¯¹è¯ç›¸å…³æ¥å£
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ chat_engine.py      # AI å¯¹è¯å¼•æ“
â”‚   â”‚   â”œâ”€â”€ prompt_manager.py   # æç¤ºè¯ç®¡ç†
â”‚   â”‚   â””â”€â”€ scoring_engine.py   # è¯„åˆ†å¼•æ“
â”‚   â”œâ”€â”€ services/               # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ session_service.py  # ä¼šè¯æœåŠ¡
â”‚   â”‚   â””â”€â”€ scoring_service.py  # è¯„åˆ†æœåŠ¡
â”‚   â”œâ”€â”€ models/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ database.py         # SQLAlchemy æ¨¡å‹
â”‚   â”‚   â””â”€â”€ schemas.py          # Pydantic æ¨¡å‹
â”‚   â”œâ”€â”€ db/                     # æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ session.py          # å¼‚æ­¥ä¼šè¯
â”‚   â””â”€â”€ main.py                 # FastAPI åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ scripts/                    # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ init_db.py              # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ reset_db.py             # æ•°æ®åº“é‡ç½®
â”‚   â””â”€â”€ migrate_add_scoring.py  # è¯„åˆ†è¡¨è¿ç§»
â”‚
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”‚   â””â”€â”€ database_schema.md      # æ•°æ®åº“æ¶æ„æ–‡æ¡£
â”‚
â”œâ”€â”€ .env                        # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ requirements.txt            # Python ä¾èµ–
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â””â”€â”€ AIserver.md                 # ç³»ç»Ÿæ¶æ„æ–‡æ¡£
```

---

## ğŸ“š æ–‡æ¡£

| æ–‡æ¡£ | æè¿° |
|------|------|
| [ç³»ç»Ÿæ¶æ„æ–‡æ¡£](AIserver.md) | å®Œæ•´çš„ç³»ç»Ÿè®¾è®¡ä¸æŠ€æœ¯è¯´æ˜ |
| [æ•°æ®åº“æ¶æ„](docs/database_schema.md) | 14å¼ è¡¨çš„è¯¦ç»†è®¾è®¡ |
| [äº§å“éœ€æ±‚æ–‡æ¡£](AISPç³»ç»Ÿäº§å“éœ€æ±‚æ–‡æ¡£.md) | äº§å“åŠŸèƒ½éœ€æ±‚è§„èŒƒ |
| [APIæ–‡æ¡£](http://localhost:8000/docs) | FastAPI è‡ªåŠ¨ç”Ÿæˆçš„äº¤äº’å¼æ–‡æ¡£ |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|:---:|
| Web æ¡†æ¶ | FastAPI | 0.109 |
| LLM | æ™ºè°±AI GLM-4.7 | - |
| æ•°æ®åº“ | PostgreSQL | 15+ |
| ORM | SQLAlchemy | 2.0 |
| å¼‚æ­¥é©±åŠ¨ | asyncpg | - |
| æç¤ºè¯ç®¡ç† | LangChain | - |

---

## ğŸ“Š æ•°æ®åº“ç»“æ„

```
æ ¸å¿ƒä¸šåŠ¡å±‚
â”œâ”€â”€ users              # ç”¨æˆ·è¡¨
â”œâ”€â”€ cases              # ç—…ä¾‹è¡¨
â”œâ”€â”€ chat_sessions      # é—®è¯Šä¼šè¯
â””â”€â”€ messages           # æ¶ˆæ¯è®°å½•

è¯„åˆ†ç³»ç»Ÿ
â”œâ”€â”€ scoring_rules              # è¯„åˆ†è§„åˆ™é…ç½®
â”œâ”€â”€ session_scores             # ä¼šè¯è¯„åˆ†è¯¦æƒ…
â”œâ”€â”€ question_coverage          # å…³é”®é—®é¢˜è¦†ç›–
â”œâ”€â”€ diagnosis_records          # è¯Šæ–­è®°å½•
â””â”€â”€ improvement_suggestions    # æ”¹è¿›å»ºè®®

å­¦ä¹ ç®¡ç†
â”œâ”€â”€ learning_records            # å­¦ä¹ è®°å½•
â”œâ”€â”€ knowledge_points           # çŸ¥è¯†ç‚¹
â”œâ”€â”€ student_knowledge_mastery  # çŸ¥è¯†ç‚¹æŒæ¡åº¦
â”œâ”€â”€ study_plans               # å­¦ä¹ è®¡åˆ’
â””â”€â”€ learning_milestones       # å­¦ä¹ é‡Œç¨‹ç¢‘
```

---

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚
